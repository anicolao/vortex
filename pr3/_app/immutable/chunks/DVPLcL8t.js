import{d as o,q as u,o as d,c as a,a as l,b as p,T as b}from"./DNjh7Pg4.js";const c="events";async function m(s,t){if(!o){console.warn("Firestore not initialized, skipping logEvent");return}try{const n=await p(a(o,c),{type:s,payload:t,timestamp:b.now()});return console.log("Event written with ID: ",n.id),n.id}catch(n){throw console.error("Error adding document: ",n),n}}function f(s){if(!o)return console.warn("Firestore not initialized, skipping subscription"),()=>{};const t=u(a(o,c),d("timestamp"));return l(t,e=>{const r=[];e.forEach(i=>{r.push({id:i.id,...i.data()})}),s(r)},e=>{console.error("Error subscribing to events: ",e)})}export{m as l,f as s};
