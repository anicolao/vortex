import{a as v,f as _}from"../chunks/BHnUeLfg.js";import{b as $,E,O as R,aR as y,Q as S,T,U as A}from"../chunks/mra9ftPF.js";import{B as N,s as U,a as M}from"../chunks/BGwb_7VU.js";import{g as O,o as j}from"../chunks/ImXrL1o0.js";import{z as p}from"../chunks/DNjh7Pg4.js";import{s as u,c as l,d as z}from"../chunks/B2R-KUoo.js";import{s as B}from"../chunks/DVPLcL8t.js";import{s as C,g as b,b as d}from"../chunks/ButEp6it.js";function F(s,t,...r){var i=new N(s);$(()=>{const e=t()??null;i.ensure(e,e&&(o=>e(o,...r)))},E)}const L=!1,P=!0,V=Object.freeze(Object.defineProperty({__proto__:null,prerender:P,ssr:L},Symbol.toStringTag,{value:"Module"})),k=()=>{const s=C;return{page:{subscribe:s.page.subscribe},navigating:{subscribe:s.navigating.subscribe},updated:s.updated}},w={subscribe(s){return k().page.subscribe(s)}};var x=_('<div class="app"><!></div>');function W(s,t){R(t,!0);const r=()=>M(w,"$page",i),[i,e]=U();y(()=>{if(!p)return;const g=O(p),f=j(g,a=>{if(a){u.dispatch(l({uid:a.uid,displayName:a.displayName,email:a.email,photoURL:a.photoURL}));const n=B(h=>{u.dispatch(z(h))}),c=r().route.id;return(c==="/login"||c==="/")&&b(`${d}/dashboard`),()=>{n()}}else{u.dispatch(l(null));const n=r().route.id;n!=="/login"&&n!=="/"&&b(`${d}/login`)}});return()=>{f()}});var o=x(),m=T(o);F(m,()=>t.children),A(o),v(s,o),S(),e()}export{W as component,V as universal};
