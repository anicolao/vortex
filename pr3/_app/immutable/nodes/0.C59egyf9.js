import{a as g,f as h}from"../chunks/Bmj0PmUK.js";import{o as f}from"../chunks/C7zVJvmC.js";import{b as v,E,a6 as A,a8 as _,a9 as $,aa as N}from"../chunks/9Y9rDYax.js";import{B as R,s as S,a as T}from"../chunks/DZe_NpQR.js";import{g as y,o as U}from"../chunks/CWutqnXa.js";import{z as B}from"../chunks/BUmc1xIs.js";import{s as i,c as p,d as C}from"../chunks/B2R-KUoo.js";import{s as F}from"../chunks/DehJPUGh.js";import{s as L,g as u}from"../chunks/BJghOzYP.js";function M(s,t,...a){var n=new R(s);v(()=>{const e=t()??null;n.ensure(e,e&&(o=>e(o,...a)))},E)}const k=()=>{const s=L;return{page:{subscribe:s.page.subscribe},navigating:{subscribe:s.navigating.subscribe},updated:s.updated}},w={subscribe(s){return k().page.subscribe(s)}};var x=h('<div class="app"><!></div>');function K(s,t){A(t,!0);const a=()=>T(w,"$page",n),[n,e]=S();f(()=>{const m=y(B),l=U(m,r=>{if(r){i.dispatch(p({uid:r.uid,displayName:r.displayName,email:r.email,photoURL:r.photoURL}));const b=F(d=>{i.dispatch(C(d))});return(a().url.pathname==="/login"||a().url.pathname==="/")&&u("/dashboard"),()=>{b()}}else i.dispatch(p(null)),a().url.pathname!=="/login"&&a().url.pathname!=="/"&&u("/login")});return()=>{l()}});var o=x(),c=$(o);M(c,()=>t.children),N(o),g(s,o),_(),e()}export{K as component};
