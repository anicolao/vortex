import{a as g,f as h}from"../chunks/BHnUeLfg.js";import{b as f,E as v,O as _,aR as E,Q as y,T as S,U as T}from"../chunks/mra9ftPF.js";import{B as $,s as A,a as R}from"../chunks/BGwb_7VU.js";import{g as N,o as U}from"../chunks/Dktvg-K7.js";import{z as M}from"../chunks/C5iOoRCJ.js";import{s as i,c as p,d as O}from"../chunks/B2R-KUoo.js";import{s as j}from"../chunks/Dh2dDEoX.js";import{s as z,g as u}from"../chunks/DCGCJbzJ.js";function B(s,a,...t){var n=new $(s);f(()=>{const e=a()??null;n.ensure(e,e&&(o=>e(o,...t)))},v)}const C=!1,I=Object.freeze(Object.defineProperty({__proto__:null,ssr:C},Symbol.toStringTag,{value:"Module"})),F=()=>{const s=z;return{page:{subscribe:s.page.subscribe},navigating:{subscribe:s.navigating.subscribe},updated:s.updated}},L={subscribe(s){return F().page.subscribe(s)}};var P=h('<div class="app"><!></div>');function J(s,a){_(a,!0);const t=()=>R(L,"$page",n),[n,e]=A();E(()=>{const l=N(M),m=U(l,r=>{if(r){i.dispatch(p({uid:r.uid,displayName:r.displayName,email:r.email,photoURL:r.photoURL}));const b=j(d=>{i.dispatch(O(d))});return(t().url.pathname==="/login"||t().url.pathname==="/")&&u("/dashboard"),()=>{b()}}else i.dispatch(p(null)),t().url.pathname!=="/login"&&t().url.pathname!=="/"&&u("/login")});return()=>{m()}});var o=P(),c=S(o);B(c,()=>a.children),T(o),g(s,o),y(),e()}export{J as component,I as universal};
