import{a as h,f}from"../chunks/BHnUeLfg.js";import{b as v,E as _,O as E,aR as y,Q as S,T,U as $}from"../chunks/mra9ftPF.js";import{B as A,s as R,a as N}from"../chunks/BGwb_7VU.js";import{g as U,o as M}from"../chunks/ImXrL1o0.js";import{z as p}from"../chunks/DNjh7Pg4.js";import{s as i,c as u,d as O}from"../chunks/B2R-KUoo.js";import{s as j}from"../chunks/DVPLcL8t.js";import{s as z,g as c}from"../chunks/DYcUnOr3.js";function B(s,a,...t){var n=new A(s);v(()=>{const e=a()??null;n.ensure(e,e&&(o=>e(o,...t)))},_)}const C=!1,I=Object.freeze(Object.defineProperty({__proto__:null,ssr:C},Symbol.toStringTag,{value:"Module"})),F=()=>{const s=z;return{page:{subscribe:s.page.subscribe},navigating:{subscribe:s.navigating.subscribe},updated:s.updated}},L={subscribe(s){return F().page.subscribe(s)}};var P=f('<div class="app"><!></div>');function J(s,a){E(a,!0);const t=()=>N(L,"$page",n),[n,e]=R();y(()=>{if(!p)return;const m=U(p),b=M(m,r=>{if(r){i.dispatch(u({uid:r.uid,displayName:r.displayName,email:r.email,photoURL:r.photoURL}));const d=j(g=>{i.dispatch(O(g))});return(t().url.pathname==="/login"||t().url.pathname==="/")&&c("/dashboard"),()=>{d()}}else i.dispatch(u(null)),t().url.pathname!=="/login"&&t().url.pathname!=="/"&&c("/login")});return()=>{b()}});var o=P(),l=T(o);B(l,()=>a.children),$(o),h(s,o),S(),e()}export{J as component,I as universal};
