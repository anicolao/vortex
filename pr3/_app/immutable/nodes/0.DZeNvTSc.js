import{a as h,f}from"../chunks/BHnUeLfg.js";import{b as v,E as _,O as E,aR as y,Q as S,T,U as $}from"../chunks/mra9ftPF.js";import{B as A,s as R,a as N}from"../chunks/BGwb_7VU.js";import{g as U,o as M}from"../chunks/ImXrL1o0.js";import{z as p}from"../chunks/DNjh7Pg4.js";import{s as i,c as u,d as O}from"../chunks/B2R-KUoo.js";import{s as j}from"../chunks/DVPLcL8t.js";import{s as z,g as c}from"../chunks/BW5dIw4n.js";function B(s,e,...t){var n=new A(s);v(()=>{const a=e()??null;n.ensure(a,a&&(o=>a(o,...t)))},_)}const C=!1,F=!0,J=Object.freeze(Object.defineProperty({__proto__:null,prerender:F,ssr:C},Symbol.toStringTag,{value:"Module"})),L=()=>{const s=z;return{page:{subscribe:s.page.subscribe},navigating:{subscribe:s.navigating.subscribe},updated:s.updated}},P={subscribe(s){return L().page.subscribe(s)}};var k=f('<div class="app"><!></div>');function K(s,e){E(e,!0);const t=()=>N(P,"$page",n),[n,a]=R();y(()=>{if(!p)return;const m=U(p),b=M(m,r=>{if(r){i.dispatch(u({uid:r.uid,displayName:r.displayName,email:r.email,photoURL:r.photoURL}));const d=j(g=>{i.dispatch(O(g))});return(t().url.pathname==="/login"||t().url.pathname==="/")&&c("/dashboard"),()=>{d()}}else i.dispatch(u(null)),t().url.pathname!=="/login"&&t().url.pathname!=="/"&&c("/login")});return()=>{b()}});var o=k(),l=T(o);B(l,()=>e.children),$(o),h(s,o),S(),a()}export{K as component,J as universal};
